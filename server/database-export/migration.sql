-- Script de migración generado automáticamente
-- Fecha: 2025-08-26T02:12:33.047Z
-- Fuente: https://ixvefxnycehbvipxcngv.supabase.co

-- Tabla: global_rate
DROP TABLE IF EXISTS global_rate;
CREATE TABLE global_rate (
  id INTEGER,
  rate INTEGER,
  updated_at TIMESTAMP,
  created_at TIMESTAMP
);

INSERT INTO global_rate VALUES (1, 7300, '2025-08-22T21:55:43.50849+00:00', '2025-08-22T21:55:43.50849+00:00');
INSERT INTO global_rate VALUES (2, 7500, '2025-08-23T00:02:21.401+00:00', '2025-08-23T00:02:21.757994+00:00');
INSERT INTO global_rate VALUES (3, 7500, '2025-08-23T00:02:21.401+00:00', '2025-08-23T00:02:28.840284+00:00');
INSERT INTO global_rate VALUES (4, 7250, '2025-08-23T00:03:11.17+00:00', '2025-08-23T00:03:11.471394+00:00');
INSERT INTO global_rate VALUES (5, 7200, '2025-08-23T01:57:20.737+00:00', '2025-08-23T01:57:20.919764+00:00');
INSERT INTO global_rate VALUES (6, 7200, '2025-08-23T01:57:20.737+00:00', '2025-08-23T01:58:44.61406+00:00');
INSERT INTO global_rate VALUES (7, 7200, '2025-08-23T01:59:08.826+00:00', '2025-08-23T01:59:08.96629+00:00');
INSERT INTO global_rate VALUES (8, 7200, '2025-08-23T02:01:53.012+00:00', '2025-08-23T02:01:53.172658+00:00');
INSERT INTO global_rate VALUES (9, 7394, '2025-08-23T02:20:21.754+00:00', '2025-08-23T02:20:21.927875+00:00');
INSERT INTO global_rate VALUES (10, 7230, '2025-08-23T02:58:09.439+00:00', '2025-08-23T02:58:09.650856+00:00');
INSERT INTO global_rate VALUES (11, 7250, '2025-08-23T03:58:49.116+00:00', '2025-08-23T03:58:49.24391+00:00');
INSERT INTO global_rate VALUES (12, 7500, '2025-08-23T04:44:26.816+00:00', '2025-08-23T04:44:27.005249+00:00');
INSERT INTO global_rate VALUES (13, 7130, '2025-08-24T20:21:08.717+00:00', '2025-08-24T20:21:08.955741+00:00');
INSERT INTO global_rate VALUES (14, 7220, '2025-08-25T00:33:01.312+00:00', '2025-08-25T00:33:01.468501+00:00');
INSERT INTO global_rate VALUES (15, 7340, '2025-08-25T03:25:00.686+00:00', '2025-08-25T03:25:00.861721+00:00');
INSERT INTO global_rate VALUES (16, 7288, '2025-08-25T07:24:31.89+00:00', '2025-08-25T07:24:32.080291+00:00');
INSERT INTO global_rate VALUES (17, 7300, '2025-08-25T08:33:02.864197+00:00', '2025-08-25T08:33:02.864197+00:00');
INSERT INTO global_rate VALUES (18, 7300, '2025-08-25T08:33:03.448072+00:00', '2025-08-25T08:33:03.448072+00:00');
INSERT INTO global_rate VALUES (19, 7288, '2025-08-25T08:39:58.913+00:00', '2025-08-25T08:39:59.093096+00:00');
INSERT INTO global_rate VALUES (22, 7311, '2025-08-25T19:50:36+00:00', '2025-08-25T18:50:36.324649+00:00');
INSERT INTO global_rate VALUES (23, 7213, '2025-08-26T01:04:11+00:00', '2025-08-26T00:04:12.036716+00:00');

-- Tabla: collaborators
DROP TABLE IF EXISTS collaborators;
CREATE TABLE collaborators (
  id INTEGER,
  name TEXT,
  base_pct_usd_total INTEGER,
  tx_count INTEGER,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO collaborators VALUES (64, 'Mauricio', 5, 0, '2025-08-25T18:52:48.274664+00:00', '2025-08-25T18:52:48.274664+00:00');
INSERT INTO collaborators VALUES (22, 'Jorge', 5, 1, '2025-08-25T00:47:08.707901+00:00', '2025-08-25T00:47:08.811474+00:00');
INSERT INTO collaborators VALUES (1, 'Gabriel Zambrano', 0, 9, '2025-08-22T21:55:43.50849+00:00', '2025-08-25T03:25:23.39456+00:00');
INSERT INTO collaborators VALUES (3, 'Anael', 2, 24, '2025-08-22T21:55:43.50849+00:00', '2025-08-25T03:50:35.842299+00:00');
INSERT INTO collaborators VALUES (2, 'Patty', 5, 18, '2025-08-22T21:55:43.50849+00:00', '2025-08-25T22:37:56.509306+00:00');

-- Tabla: clients
DROP TABLE IF EXISTS clients;
CREATE TABLE clients (
  id INTEGER,
  name TEXT,
  tx_count INTEGER,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO clients VALUES (5, 'Jose', 1, '2025-08-23T01:50:43.784028+00:00', '2025-08-23T01:50:43.784028+00:00');
INSERT INTO clients VALUES (6, 'JuanEspana', 2, '2025-08-23T01:55:05.57092+00:00', '2025-08-23T02:08:14.707692+00:00');
INSERT INTO clients VALUES (43, 'Fabiola Lopez', 6, '2025-08-24T23:14:33.644014+00:00', '2025-08-25T03:23:29.30864+00:00');
INSERT INTO clients VALUES (52, 'Juan Ramirez', 1, '2025-08-24T23:25:22.104169+00:00', '2025-08-25T03:25:23.965888+00:00');
INSERT INTO clients VALUES (83, 'Carlos Mendez', 0, '2025-08-25T08:33:03.955283+00:00', '2025-08-25T08:33:03.955283+00:00');
INSERT INTO clients VALUES (84, 'Maria Rodriguez', 0, '2025-08-25T08:33:03.955283+00:00', '2025-08-25T08:33:03.955283+00:00');
INSERT INTO clients VALUES (85, 'Juan Perez', 0, '2025-08-25T08:33:03.955283+00:00', '2025-08-25T08:33:03.955283+00:00');
INSERT INTO clients VALUES (86, 'Ana Garcia', 0, '2025-08-25T08:33:03.955283+00:00', '2025-08-25T08:33:03.955283+00:00');
INSERT INTO clients VALUES (3, 'Fabiola', 68, '2025-08-23T01:35:52.047319+00:00', '2025-08-25T22:37:56.607375+00:00');

-- Tabla: transactions
DROP TABLE IF EXISTS transactions;
CREATE TABLE transactions (
  id INTEGER,
  idempotency_key TEXT,
  fecha TIMESTAMP,
  chat_id TEXT,
  colaborador TEXT,
  cliente TEXT,
  usd_total INTEGER,
  comision INTEGER,
  usd_neto DECIMAL,
  monto_gs INTEGER,
  monto_colaborador_gs INTEGER,
  monto_colaborador_usd DECIMAL,
  monto_comision_gabriel_gs INTEGER,
  monto_comision_gabriel_usd DECIMAL,
  tasa_usada INTEGER,
  observaciones TEXT,
  created_at TIMESTAMP
);

INSERT INTO transactions VALUES (80, '7c2d5add', '2025-08-25T06:21:01.51+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 901, 10, 810.9, 5952006, 330667, 45.05, 330667, 45.05, 7340, '', '2025-08-25T06:21:01.896206+00:00');
INSERT INTO transactions VALUES (4, '1abc1c30', '2025-08-23T01:37:05.462+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 100, 10, 90, 652500, 36250, 5, 36250, 5, 7250, 'null', '2025-08-23T01:37:05.490882+00:00');
INSERT INTO transactions VALUES (5, '47079823', '2025-08-23T01:50:43.744+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Jose', 100, 10, 90, 652500, 36250, 5, 36250, 5, 7250, 'null', '2025-08-23T01:50:43.784028+00:00');
INSERT INTO transactions VALUES (82, '6acea315', '2025-08-25T08:48:27.011+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 30, 15, 25.5, 185844, 10932, 1.5, 21864, 3, 7288, '', '2025-08-25T08:48:27.267546+00:00');
INSERT INTO transactions VALUES (7, '76522754', '2025-08-23T02:08:14.674+00:00', '584122236071@s.whatsapp.net', 'Patty', 'JuanEspana', 100, 10, 90, 648000, 36000, 5, 36000, 5, 7200, 'null', '2025-08-23T02:08:14.707692+00:00');
INSERT INTO transactions VALUES (12, '14b156f7', '2025-08-23T04:14:38.584+00:00', '584122236071@s.whatsapp.net', 'Anael', 'Fabiola', 100, 10, 90, 652500, 21750, 3, 50750, 7, 7250, 'null', '2025-08-23T04:14:39.024923+00:00');
INSERT INTO transactions VALUES (30, '2f976e87', '2025-08-23T08:49:13.737+00:00', '584122236071@s.whatsapp.net', 'null', 'Fabiola', 300, 10, 270, 2025000, 0, 0, 225000, 30, 7500, 'USD neto del mensaje (90) difiere del calculado (270.0000)', '2025-08-23T08:49:13.784865+00:00');
INSERT INTO transactions VALUES (31, '1870084a', '2025-08-23T08:57:25.395+00:00', '584122236071@s.whatsapp.net', 'null', 'Fabiola', 450, 10, 405, 3037500, 0, 0, 337500, 45, 7500, 'USD neto del mensaje (90) difiere del calculado (405.0000)', '2025-08-23T08:57:25.430987+00:00');
INSERT INTO transactions VALUES (33, '4ba7eeb1', '2025-08-23T09:48:11.113+00:00', '584122236071@s.whatsapp.net', 'null', 'Fabiola', 100, 10, 90, 675000, 0, 0, 75000, 10, 7500, 'null', '2025-08-23T09:48:11.149281+00:00');
INSERT INTO transactions VALUES (37, '39327546', '2025-08-24T21:00:39.703+00:00', '584122236071@s.whatsapp.net', 'null', 'Fabiola', 100, 10, 90, 641700, 0, 0, 71300, 10, 7130, 'null', '2025-08-24T21:00:39.741995+00:00');
INSERT INTO transactions VALUES (38, '9f4602e', '2025-08-24T21:30:15.646+00:00', '584122236071@s.whatsapp.net', '', 'Fabiola', 100, 10, 90, 641700, 0, 0, 71300, 10, 7130, '', '2025-08-24T21:30:15.788574+00:00');
INSERT INTO transactions VALUES (40, '36d2f8b', '2025-08-24T23:13:37.333+00:00', '584122236071@s.whatsapp.net', 'Gabriel Zambrano', 'Fabiola', 100, 10, 90, 641700, 0, 0, 71300, 10, 7130, '', '2025-08-24T23:13:37.880089+00:00');
INSERT INTO transactions VALUES (42, '6b54decc', '2025-08-24T23:38:22.725+00:00', '584122236071@s.whatsapp.net', 'Gabriel Zambrano', 'Fabiola Lopez', 100, 10, 90, 641700, 0, 0, 71300, 10, 7130, '', '2025-08-24T23:38:23.070946+00:00');
INSERT INTO transactions VALUES (49, '67336d1a', '2025-08-25T00:47:08.57+00:00', '584122236071@s.whatsapp.net', 'Jorge', 'Fabiola', 100, 10, 90, 649800, 36100, 5, 36100, 5, 7220, '', '2025-08-25T00:47:08.904822+00:00');
INSERT INTO transactions VALUES (51, '70143394', '2025-08-25T03:23:27.586+00:00', '584122236071@s.whatsapp.net', 'Gabriel Zambrano', 'Fabiola Lopez', 100, 15, 85, 613700, 0, 0, 108300, 15, 7220, '', '2025-08-25T03:23:27.878295+00:00');
INSERT INTO transactions VALUES (52, '6c11c661', '2025-08-25T03:25:22.074+00:00', '584122236071@s.whatsapp.net', 'Gabriel Zambrano', 'Juan Ramirez', 100, 15, 85, 623900, 0, 0, 110100, 15, 7340, '', '2025-08-25T03:25:22.302363+00:00');
INSERT INTO transactions VALUES (53, '67ce7dbb', '2025-08-25T03:26:59.42+00:00', '584122236071@s.whatsapp.net', 'Anael', 'Fabiola', 100, 10, 90, 660600, 14680, 2, 58720, 8, 7340, '', '2025-08-25T03:26:59.632453+00:00');
INSERT INTO transactions VALUES (81, '2b27855a', '2025-08-25T08:30:02.281+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 30, 15, 25.5, 185844, 10932, 1.5, 21864, 3, 7288, '', '2025-08-25T08:30:02.764745+00:00');
INSERT INTO transactions VALUES (55, '49166b2e', '2025-08-25T03:33:46.077+00:00', '584122236071@s.whatsapp.net', 'Anael', 'Fabiola', 4190, 10, 3771, 27679140, 615092, 83.8, 2460368, 335.2, 7340, '', '2025-08-25T03:33:46.300695+00:00');
INSERT INTO transactions VALUES (56, 'de4a048', '2025-08-25T03:35:05.607+00:00', '584122236071@s.whatsapp.net', 'Anael', 'Fabiola', 4290, 10, 3861, 28339740, 629772, 85.8, 2519088, 343.2, 7340, '', '2025-08-25T03:35:05.865694+00:00');
INSERT INTO transactions VALUES (83, '6aae1d61', '2025-08-25T22:37:54.598+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 320, 15, 272, 1988592, 116976, 16, 233952, 32, 7311, '', '2025-08-25T22:37:54.648625+00:00');
INSERT INTO transactions VALUES (75, '35b88bc8', '2025-08-25T03:45:44.118+00:00', '584122236071@s.whatsapp.net', 'Patty', 'Fabiola', 4901, 10, 4410.9, 32376006, 1798667, 245.05, 1798667, 245.05, 7340, '', '2025-08-25T03:45:44.33743+00:00');
INSERT INTO transactions VALUES (79, '5c335510', '2025-08-25T03:50:34.653+00:00', '584122236071@s.whatsapp.net', 'Anael', 'Fabiola', 4901, 10, 4410.9, 32376006, 719467, 98.02, 2877867, 392.08, 7340, '', '2025-08-25T03:50:34.882781+00:00');

